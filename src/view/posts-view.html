<posts-view>
  <postcell each={_posts} data={this}></postcell>
  <pagination total={_total}></pagination>

  <script>
  this.mixin('controlMixin')
  this._posts = []

  this.on('mount', () => {
    riot.control.trigger(riot.VE.LOAD_POSTS)
  })

  this.onControl(riot.SE.POSTS_CHANGED, posts => {
    this._posts = posts.data
    this._total = posts.total
    this.update()
  })
  </script>
</posts-view>
